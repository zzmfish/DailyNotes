---
layout: posts
title: Git
tags: å¼€å‘å·¥å…·
---


## æ¦‚å¿µ

![](http://zhouzm.cn/DailyNotes/assets/images/Git%E5%B7%A5%E4%BD%9C%E5%8C%BA%E3%80%81%E6%9A%82%E5%AD%98%E5%8C%BA%E3%80%81%E7%89%88%E6%9C%AC%E5%BA%93.jpg)



![](http://zhouzm.cn/DailyNotes/assets/images/Git%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C.jpg)

## git å‘½ä»¤

#### ä»“åº“

###### ğŸ”¹init

###### ğŸ”¹clone

<center>ğŸ‰ğŸ‰ğŸ‰</center>

#### å·¥ä½œåŒº

###### ğŸ”¹add

###### ğŸ”¹apply

```bash
git apply $patch_file
```

###### ğŸ”¹diff

```bash
# æ˜¾ç¤ºåç§°å’ŒçŠ¶æ€
git diff master --name-status

# æ˜¾ç¤ºcommitå’Œä¸Šä¸€ä¸ªcommitçš„åŒºåˆ«
git diff $commit^!

# åˆ›å»ºpatchï¼ˆå¯èƒ½åŒ…å«äºŒè¿›åˆ¶æ–‡ä»¶å¦‚å›¾ç‰‡ï¼‰
git diff --binary $commit_or_branch > $patch_file
```


###### ğŸ”¹mv

###### ğŸ”¹rm

```bash
#ä»ä»“åº“å’Œæœ¬åœ°æ–‡ä»¶åˆ é™¤
git rm $file_name

#é€’å½’åˆ é™¤ç›®å½•
git rm -r $folder_name

#åªä»ä»“åº“åˆ é™¤
git rm --cached $file_name
```



###### ğŸ”¹status

```bash
# ä¸æ˜¾ç¤ºæœªè·Ÿè¸ªçš„æ–‡ä»¶
git status --untracked-files=no
git status -u no
git status -uno
```

<center>ğŸ‰ğŸ‰ğŸ‰</center>

#### å‚¨è—

###### ğŸ”¹stash

```bash
#å‚¨è—æ›´æ”¹
git stash

#å‚¨è—æ›´æ”¹å¹¶è¯´æ˜åŸå› 
git stash push -m $message

#æŸ¥çœ‹ç°æœ‰å‚¨è—
git stash list

#æ˜¾ç¤ºå‚¨è—è¯¦æƒ…
git stash show $stash

#æ˜¾ç¤ºdiff
git stash show -p

#åº”ç”¨æœ€è¿‘çš„å‚¨è—
git stash apply
git stash apply stash@{1}
```

<center>ğŸ‰ğŸ‰ğŸ‰</center>

#### æäº¤

###### ğŸ”¹blame

###### ğŸ”¹cherry-pick

```bash
# åˆå¹¶ç‰¹å®šcommit
git cherry-pick $commit_id...
```



###### ğŸ”¹commit

```bash
# å‚æ•°
# --amend ä¿®æ”¹ä¸Šä¸€æ¬¡çš„æäº¤è®°å½•
# -s ç­¾å
# -a æäº¤å…¨éƒ¨ä¿®æ”¹æˆ–åˆ é™¤çš„æ–‡ä»¶ï¼ˆä¸åŒ…æ‹¬æ–°å¢ï¼‰

# å…¬å¸æMRæ ¼å¼è§„èŒƒ
git commit -sm "[SIM-xxx][BehaviorPlanning] message content"

# å¼¹å‡ºç¼–è¾‘å™¨ä¿®æ”¹ä¸Šä¸€ä¸ªcommit messageï¼ˆæ²¡æœ‰pushæ‰èƒ½æ”¹ï¼‰
git commit -s --amend
```



###### ğŸ”¹log

```bash
#æœ€è¿‘10æ¡æ—¥å¿—
git log -n 10

#å•è¡Œæ˜¾ç¤º
git log --pretty=oneline
git log --oneline

#ä¿®æ”¹çš„æ–‡ä»¶
git log --name-only -10

#ä¿®æ”¹çš„æ–‡ä»¶å†…å®¹
git log --name-status -10

#masterçš„ä¿®æ”¹
git log -n20 --graph --pretty=oneline master

#æ˜¾ç¤ºåˆ†æ”¯å
git log --oneline --decorate -10

# æ˜¾ç¤ºæŸä¸ªåˆ†æ”¯çš„ä¿®æ”¹
git log --oneline -10 $branch_name

#æ˜¾ç¤ºåˆ†æ”¯å›¾
git log --oneline --decorate --graph -10
```



###### ğŸ”¹reset

![](http://zhouzm.cn/DailyNotes/assets/images/git%20reset.png)

```bash
# æ’¤é”€ä¸€æ¬¡commit
git reset --soft HEAD^

# å›æ»šåˆ° commit
git reset $commit_id

# æ’¤é”€ add
git reset HEAD $file_name

# æ”¾å¼ƒæœ¬åœ°ä¿®æ”¹
git reset --hard origin/master

# æ’¤é”€æœªå®Œæˆçš„ mergeï¼ˆmergeå‰çš„ç‰ˆæœ¬å·ï¼‰
git reset --hard $commit_id
```



###### ğŸ”¹show

```bash
# æ˜¾ç¤ºæŸä¸ªç‰ˆæœ¬çš„æ–‡ä»¶
git show $revision:$file_path

# æ˜¾ç¤ºæŸä¸ªcommitçš„ä¿®æ”¹
git show $commit

# æ˜¾ç¤ºæŸä¸ªåˆ†æ”¯çš„æ–‡ä»¶
git show $branch_name:$file_path
```

<center>ğŸ‰ğŸ‰ğŸ‰</center>

#### åˆ†æ”¯

###### ğŸ”¹checkout

```bash
# æ–°å»ºåˆ†æ”¯
git checkout -b $branch_name

# è§£å†³å†²çªçŠ¶æ€ï¼šä½¿ç”¨å¯¹æ–¹çš„ä¿®æ”¹
git checkout --theirs . 

# æ’¤é”€æœªå®Œæˆçš„mergeï¼ˆmergeæ—¶æ‰€åœ¨çš„åˆ†æ”¯ï¼‰
git checkout $branch_name

# æ£€å‡ºæŸä¸ªç‰ˆæœ¬çš„æ–‡ä»¶
git checkout $commit_id $file_name
git checkout $branch_name $file_name

# æ’¤é”€åˆ é™¤çš„æ–‡ä»¶/ç›®å½•
git checkout HEAD $file_name
```



###### ğŸ”¹branch

```bash
#æ˜¾ç¤ºå½“å‰åˆ†æ”¯
git branch --show-current

#åˆ é™¤æœ¬åœ°åˆ†æ”¯
git branch -d $branch_name

#æ˜¾ç¤ºå…¨éƒ¨åˆ†æ”¯
git branch -a

#æ˜¾ç¤ºè¿œç¨‹åˆ†æ”¯
git branch -r
```



###### ğŸ”¹merge

```bash
# å–æ¶ˆåˆå¹¶
git merge --abort
```



###### ğŸ”¹rebase

<center>ğŸ‰ğŸ‰ğŸ‰</center>

#### è¿œç¨‹

###### ğŸ”¹fetch
```bash
# æ‹‰å–è¿œç¨‹åˆ†æ”¯åˆ°æœ¬åœ°
git fetch origin $branch_name
```



###### ğŸ”¹pull

```bash
# rebase è¿œç¨‹æäº¤è€Œä¸æ˜¯ merge
git pull --rebase
```



###### ğŸ”¹push

```bash
# æ¨é€åˆ°è¿œç¨‹åˆ†æ”¯
git push origin $branch_name
```



###### ğŸ”¹remote

```bash
# æ›´æ”¹ä»£ç åº“åœ°å€
git remote set-url origin $new_url
```

<center>ğŸ‰ğŸ‰ğŸ‰</center>

#### å…¶ä»–

###### ğŸ”¹bisect

###### ğŸ”¹grep

###### ğŸ”¹ls-files

```bash
# æ¢å¤æœ¬åœ°åˆ é™¤çš„æ–‡ä»¶
git ls-files -d | xargs -i git checkout {}
```

###### ğŸ”¹sparse-checkout

###### ğŸ”¹restore

###### ğŸ”¹switch

###### ğŸ”¹symbolic-ref
```bash
#æ˜¾ç¤ºå½“å‰æ‰€å±åˆ†æ”¯
git symbolic-ref --short HEAD
```

###### ğŸ”¹tag
